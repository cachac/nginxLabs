# Config  <!-- omit in toc -->



# 1. Global config
```
cd /etc/nginx
ls
```
- nginx.confd: main config block (context) and directives
  - user
  - worker_processes: total number of worker processes to run simultaneously
  - include

- events: worker_connections, the maximum number of simultaneous connections that each worker process can manage.

- http: global http connection
  - logging
  - gzip
  -
	-	include /etc/nginx/conf.d/*.conf;
	- include /etc/nginx/sites-enabled/*;

# 2. Virtual host
## 2.1. default host
```
cd sites-available
cat default
```
- server context
- listen port 80, ::80
- root
- server_name: _;
- location /


## 2.2. sites-enabled
```
ls -li ../sites-enabled
```


## 2.3. Delete default host
```
sudo rm default
ls -li ../sites-enabled
sudo rm  ../sites-enabled/default
nginx -s reload
```


## 2.4. delete default html
```
sudo rm /var/www/html/index.nginx-debian.html
sudo rm /usr/share/nginx/html/index.html
```

# 3. Clean global config
```
cd ..
sudo cp nginx.conf nginx.conf.bak
sudo vim nginx.conf
```
```sh
user www-data;
pid /run/nginx.pid;
include /etc/nginx/modules-enabled/*.conf;

events {
}
http {
  include /etc/nginx/sites-enabled/*;
}

```

## 3.1. reload
```
sudo nginx -t
sudo nginx -s reload
```

## 3.2. template demo
### git clone
```
cd ~
git clone
```
### option upload
```
rsync -Pav -a  template-demo     -e 'ssh -i ~/Downloads/ssh.pem' <USER>@<SERVER>:/home/<USER>/
sudo cp -r ~/template-demo /var/www/html
```
